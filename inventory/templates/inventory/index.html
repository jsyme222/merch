{% extends 'base/base-site.html' %}
{% load static %}

{% block body_class %}product_page{% endblock %}
{% block styles %}
    <link href="{% static 'main/assets/plugins/jquery-datatable/css/jquery.dataTables.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'main/assets/plugins/datatables-responsive/css/datatables.responsive.css' %}" rel="stylesheet" type="text/css" media="screen" />
  {% endblock %}

{% block content %}
      <!-- BEGIN PAGE CONTAINER-->
      <div class="page-content">
        <div class="content">
          <!-- BEGIN PAGE TITLE -->
<div class="row-fluid">
            <div class="span12">
              <div class="grid simple ">
                <div class="grid-title">
                  <div class="inventory-selectors">
                  <button class="btn btn-primary"><a href="{% url 'inventory.index' %}">All Inventory</a></button>
                  <button class="btn btn-success"><a  href="{% url 'inventory.index' 'selling-inventory' %}">Selling Inventory</a></h4>
                  </div>
                  <div class="tools">
                    <a href="javascript:;" class="collapse"></a>
                    <a href="#grid-config" data-toggle="modal" class="config"></a>
                    <a href="javascript:;" class="reload"></a>
                    <a href="javascript:;" class="remove"></a>
                  </div>
                </div>
                <div id="table-container" class="grid-body ">
                    {% block table %}
                  <table class="table table-hover table-condensed">
                    <thead>
                      <tr>
                        <th style="width:20%">Product</th>
                        <th style="width:15%">SKU</th>
                        <th style="width:6%" class="hide-sm">Wholesale</th>
                        <th style="width:6%" {% if products_selling %}class="hide-sm"{% endif %}>Inventory</th>
                        <th style="width:6%" {% if not products_selling %}class="hide-sm"{% endif %}>Selling</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% if products %}

                      {% for product in products %}

                      <tr {% if product.on_floor >= 1 %}style="background-color:#E0FFFF;"{% elif not product.QTY %}style="background-color:#FA8072;"{% endif %}>
                        <td class="v-align-middle"><a href="/products/{{ product.pk }}">{{ product.title }}</a></td>
                        <td class="v-align-middle"><span class="muted">{{ product.SKU }}</span></td>
                        <td><span class="muted bold text-success hide-sm">${{ product.wholesale }}</span></td>
                        <td><span class="muted">{{ product.QTY }}</span></td>
                        <td><span class="muted hide-sm">{{ product.on_floor }}</span></td>
                      </tr>
                      {% endfor %}

                      {% elif products_selling %}

                      {% for product in products_selling %}
                      <tr style="background-color:#E0FFFF;">
                        <td class="v-align-middle"><a href="/products/{{ product.pk }}">{{ product.title }}</a></td>
                        <td class="v-align-middle"><span class="muted">{{ product.SKU }}</span></td>
                        <td><span class="muted bold text-success hide-sm">${{ product.wholesale }}</span></td>
                        <td><span class="muted hide-sm">{{ product.QTY }}</span></td>
                        <td><span class="muted">{{ product.on_floor }}</span></td>
                      </tr>
                      {% endfor %}

                      {% endif %}

                    </tbody>
                  </table>
                  {% endblock %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
{% endblock %}

{% block page_scripts %}

    <script src="{% static 'main/assets/plugins/bootstrap-select2/select2.min.js' %}" type="text/javascript"></script>

    <script src="{% static 'main/assets/plugins/jquery-datatable/js/jquery.dataTables.min.js' %}" type="text/javascript"></script>

    <script src="{% static 'main/assets/plugins/jquery-datatable/extra/js/dataTables.tableTools.min.js' %}" type="text/javascript"></script>

    <script type="text/javascript" src="{% static 'main/assets/plugins/datatables-responsive/js/datatables.responsive.js' %}"></script>

    <script type="text/javascript" src="{% static 'main/assets/plugins/datatables-responsive/js/lodash.min.js' %}"></script>

    <script src="{% static 'main/assets/plugins/jquery-numberAnimate/jquery.animateNumbers.js' %}" type="text/javascript"></script>
    <script src="{% static 'main/assets/js/datatables.js' %}" type="text/javascript"></script>
    <script type="text/javascript" src="{% static 'main/assets/js/tables.js' %}"></script>
{% endblock %}